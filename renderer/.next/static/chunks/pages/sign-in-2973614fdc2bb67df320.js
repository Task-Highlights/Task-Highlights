(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{3485:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r=n(4246),a=n(8742),s=n.n(a),o=n(505),i=n(7378),c=n(4861),u=n(3368),l=n(596),d=n(8579),p=n(9894),f=n(8486),h=n(930),m=function(){var e=(0,i.useContext)(f.Z);return(0,r.jsxs)("div",{className:"flex flex-1 flex-row py-3 items-center justify-evenly px-4 sm:space-x-40 md:space-x-60",children:[(0,r.jsx)("div",{children:(0,r.jsx)(p.default,{href:"/",children:(0,r.jsx)("a",{title:"Home","aria-label":"Home",className:"flex items-center",children:(0,r.jsx)(u.tvw,{className:"w-7 h-7"})})})}),null!==e&&void 0!==e&&e.user_avatar?(0,r.jsx)("div",{className:"flex -space-x-1 overflow-hidden",children:(0,r.jsx)("div",{className:"relative inline-block h-12 w-12 rounded-full ring-2 ring-theme-blueGray-900",children:(0,r.jsx)(p.default,{href:"/p/".concat(e.user_username),children:(0,r.jsx)("a",{children:(0,r.jsx)(d.default,{alt:"user-avatar",src:e.user_avatar,layout:"fill"})})})})}):(0,r.jsx)(l.yB,{color:"#0F172A",highlightColor:"#1E293B",children:(0,r.jsx)(l.ZP,{circle:!0,height:44,width:44})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{"aria-label":"Sign out",className:"flex items-center",title:"Sign out",onClick:function(){return h.m.signOut()},children:(0,r.jsx)(u.R0g,{className:"w-7 h-7"})})})]})},x=n(2465),v=n(6677),y=function(e){var t=e.children,n=(0,i.useContext)(c.Z).fireId,a=(0,i.useState)(null),u=a[0],l=a[1],d=(0,i.useState)(!0),p=d[0],h=d[1],y=(0,v.useRouter)();return(0,i.useEffect)((function(){h("/sign-up"!==y.pathname.toString()&&"/sign-in"!==y.pathname.toString())}),[y.pathname]),(0,i.useEffect)((function(){(0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.kv)(n);case 2:t=e.sent,JSON.stringify(u)!==JSON.stringify(t)&&l(t);case 4:case"end":return e.stop()}}),e)})))()}),[n,u]),(0,r.jsx)(f.Z.Provider,{value:u,children:(0,r.jsxs)("div",{className:"bg-theme-blueGray-900 min-h-screen flex flex-col text-theme-blueGray-400 selection:bg-theme-blueGray-800 selection:text-theme-blueGray-400",children:[p&&(0,r.jsx)("header",{className:"flex justify-center",children:(0,r.jsx)(m,{})}),(0,r.jsx)("main",{className:"flex-1 ".concat(p&&"border-t-2"," border-theme-primary-500 ").concat(!p&&"flex justify-center items-center"),children:t})]})})}},8486:function(e,t,n){"use strict";var r=(0,n(7378).createContext)(null);t.Z=r},4691:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(4246),a=n(8742),s=n.n(a),o=n(505),i=n(7378),c=n(8038),u=n(3485),l=n(9894),d=n(9148),p=n(930),f=n(6677);function h(){var e=(0,f.useRouter)(),t=(0,i.useState)(""),n=t[0],a=t[1],h=(0,i.useState)(""),m=h[0],x=h[1],v=(0,i.useState)(""),y=v[0],g=v[1],j=""===m||""===n,b=function(){var t=(0,o.Z)(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,p.m.signInWithEmailAndPassword(n,m);case 4:e.push("/"),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),a(""),x(""),g(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,r.jsx)(u.A,{children:(0,r.jsxs)("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)(c.default,{children:[(0,r.jsx)("title",{children:"Sign In | Task Highlights"}),(0,r.jsx)("meta",{name:"description",content:"Sign in to Task Highlights"}),(0,r.jsx)("meta",{property:"og:title",content:"Sign in | Task Highlights"}),(0,r.jsx)("link",{rel:"icon",href:"./favicon.ico"})]}),(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-5xl sm:text-7xl leading-tight font-extrabold text-theme-primary-500",children:"Task Highlights"}),(0,r.jsx)("h2",{className:"mt-6 text-center text-xl sm:text-3xl font-semibold text-theme-blueGray-400",children:"Sign in to your account"})]}),y&&(0,r.jsx)("p",{className:"mb-4 text-sm text-red-500 text-center font-semibold",children:y}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",method:"POST",onSubmit:b,children:[(0,r.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),(0,r.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,r.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t focus:outline-none focus:ring-theme-primary-500 focus:border-theme-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",onChange:function(e){var t=e.target;return a(t.value)},value:n})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b focus:outline-none focus:ring-theme-primary-500 focus:border-theme-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",onChange:function(e){var t=e.target;return x(t.value)},value:m})]})]}),!j&&(0,r.jsx)("div",{children:(0,r.jsxs)("button",{type:"submit","aria-label":"Sign in",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-base font-medium rounded-md text-white bg-theme-primary-500 hover:bg-theme-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-theme-primary-500",children:[(0,r.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,r.jsx)(d.khe,{className:"h-5 w-5 text-theme-coolGray-400 group-hover:text-theme-coolGray-900","aria-hidden":"true"})}),"Sign in"]})})]}),(0,r.jsxs)("div",{className:"text-base text-center text-theme-blueGray-400",children:["Don't have an account? ",(0,r.jsx)("span",{className:"font-medium hover:text-theme-primary-500 w-max relative cursor-pointer group",children:(0,r.jsx)(l.default,{href:"/sign-up",children:(0,r.jsxs)("a",{children:["Sign Up",(0,r.jsx)("div",{className:"-right-1 bottom-0 absolute w-16 h-2 bg-theme-primary-500/40 group-hover:bg-transparent"})]})})})]})]})]})})}},2465:function(e,t,n){"use strict";n.d(t,{_T:function(){return v},Wt:function(){return d},c2:function(){return p},oF:function(){return l},NW:function(){return m},kv:function(){return u},Ut:function(){return y},G8:function(){return x},pk:function(){return f},Oo:function(){return h}});var r=n(8742),a=n.n(r),s=n(505),o=n(759),i=n.n(o),c="/api/v1/",u=function(){var e=(0,s.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(c,"user?user_id=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,i()("".concat(c,"user"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,s.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(c,"page?page_user_id=").concat(t,"&today=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,i()("".concat(c,"todo"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,s.Z)(a().mark((function e(t){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.todo_id,r=t.todo_done,e.next=3,i()("".concat(c,"todo"),{method:"POST",body:JSON.stringify({task:"toggleState",todo_id:n,todo_done:!r}),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.abrupt("return",s.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.Z)(a().mark((function e(t){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.todo_id,r=t.todo_description,!n||!r){e.next=6;break}return e.next=4,i()("".concat(c,"todo"),{method:"POST",body:JSON.stringify({task:"updateDescription",todo_id:n,todo_description:r}),headers:{"Content-Type":"application/json"}});case 4:return s=e.sent,e.abrupt("return",s.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,i()("".concat(c,"todo?todo_id=").concat(t),{method:"DELETE"});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.Z)(a().mark((function e(t){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.todo_id,r=t.todo_archived,e.next=3,i()("".concat(c,"todo"),{method:"POST",body:JSON.stringify({task:"toggleArchive",todo_id:n,todo_archived:r}),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.abrupt("return",s.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)(a().mark((function e(t){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.story_id,r=t.todo_id,e.next=3,i()("".concat(c,"story"),{method:"POST",body:JSON.stringify({todo_id:r,story_id:n,task:"add"}),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.abrupt("return",s.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,s.Z)(a().mark((function e(t){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.story_id,r=t.todo_id,e.next=3,i()("".concat(c,"story"),{method:"POST",body:JSON.stringify({todo_id:r,story_id:n,task:"remove"}),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.abrupt("return",s.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},5665:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in",function(){return n(4691)}])}},function(e){e.O(0,[765,148,774,888,179],(function(){return t=5665,e(e.s=t);var t}));var t=e.O();_N_E=t}]);