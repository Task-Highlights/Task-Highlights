(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[801],{3485:function(e,t,r){"use strict";r.d(t,{A:function(){return y}});var n=r(4246),a=r(8742),s=r.n(a),o=r(505),i=r(7378),u=r(4861),c=r(3368),l=r(596),d=r(8579),p=r(9894),m=r(8486),f=r(930),h=function(){var e=(0,i.useContext)(m.Z);return(0,n.jsxs)("div",{className:"flex flex-1 flex-row py-3 items-center justify-evenly px-4 sm:space-x-40 md:space-x-60",children:[(0,n.jsx)("div",{children:(0,n.jsx)(p.default,{href:"/",children:(0,n.jsx)("a",{title:"Home","aria-label":"Home",className:"flex items-center",children:(0,n.jsx)(c.tvw,{className:"w-7 h-7"})})})}),null!==e&&void 0!==e&&e.user_avatar?(0,n.jsx)("div",{className:"flex -space-x-1 overflow-hidden",children:(0,n.jsx)("div",{className:"relative inline-block h-12 w-12 rounded-full ring-2 ring-theme-blueGray-900",children:(0,n.jsx)(p.default,{href:"/p/".concat(e.user_username),children:(0,n.jsx)("a",{children:(0,n.jsx)(d.default,{alt:"user-avatar",src:e.user_avatar,layout:"fill"})})})})}):(0,n.jsx)(l.yB,{color:"#0F172A",highlightColor:"#1E293B",children:(0,n.jsx)(l.ZP,{circle:!0,height:44,width:44})}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{"aria-label":"Sign out",className:"flex items-center",title:"Sign out",onClick:function(){return f.m.signOut()},children:(0,n.jsx)(c.R0g,{className:"w-7 h-7"})})})]})},x=r(2465),v=r(6677),y=function(e){var t=e.children,r=(0,i.useContext)(u.Z).fireId,a=(0,i.useState)(null),c=a[0],l=a[1],d=(0,i.useState)(!0),p=d[0],f=d[1],y=(0,v.useRouter)();return(0,i.useEffect)((function(){f("/sign-up"!==y.pathname.toString()&&"/sign-in"!==y.pathname.toString())}),[y.pathname]),(0,i.useEffect)((function(){(0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.kv)(r);case 2:t=e.sent,JSON.stringify(c)!==JSON.stringify(t)&&l(t);case 4:case"end":return e.stop()}}),e)})))()}),[r,c]),(0,n.jsx)(m.Z.Provider,{value:c,children:(0,n.jsxs)("div",{className:"bg-theme-blueGray-900 min-h-screen flex flex-col text-theme-blueGray-400 selection:bg-theme-blueGray-800 selection:text-theme-blueGray-400",children:[p&&(0,n.jsx)("header",{className:"flex justify-center",children:(0,n.jsx)(h,{})}),(0,n.jsx)("main",{className:"flex-1 ".concat(p&&"border-t-2"," border-theme-primary-500 ").concat(!p&&"flex justify-center items-center"),children:t})]})})}},8486:function(e,t,r){"use strict";var n=(0,r(7378).createContext)(null);t.Z=n},6969:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(4246),a=r(8742),s=r.n(a),o=r(505),i=r(7378),u=r(9856),c=r(8038),l=r(8579),d=r(3485),p=r(9894),m=r(9148),f=r(2465),h=r(930),x=r(6677);function v(){var e=new u.AvatarGenerator,t=(0,x.useRouter)(),r=(0,i.useState)(""),a=r[0],v=r[1],y=(0,i.useState)(""),g=y[0],b=y[1],j=(0,i.useState)(""),w=j[0],N=j[1],_=(0,i.useState)(""),k=_[0],S=_[1],C=(0,i.useState)(""),T=C[0],O=C[1],P=(0,i.useState)(""),Z=P[0],E=P[1],G=""===k||""===w||""===g||""===a,F=function(){var e=(0,o.Z)(s().mark((function e(r){var n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),""===T){e.next=21;break}return e.prev=2,e.next=5,h.m.createUserWithEmailAndPassword(w,k);case 5:return o=e.sent,e.next=8,o.user.updateProfile({displayName:a});case 8:return e.next=10,(0,f.oF)({user_avatar:T,user_email:w,user_fullname:g,user_id:null===o||void 0===o||null===(n=o.user)||void 0===n?void 0:n.uid,user_username:a});case 10:t.push("/"),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(2),b(""),N(""),S(""),E(e.t0.message);case 19:e.next=23;break;case 21:v(""),""===T&&E("Please choose an avatar");case 23:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.jsx)(d.A,{children:(0,n.jsxs)("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)(c.default,{children:[(0,n.jsx)("title",{children:"Sign up | Task Highlights"}),(0,n.jsx)("meta",{name:"description",content:"Sign up for Task Highlights"}),(0,n.jsx)("meta",{property:"og:title",content:"Sign up | Task Highlights"}),(0,n.jsx)("link",{rel:"icon",href:"./favicon.ico"})]}),(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{className:"text-5xl sm:text-7xl leading-tight font-extrabold text-theme-primary-500",children:"Task Highlights"}),(0,n.jsx)("h2",{className:"mt-6 text-center text-xl sm:text-3xl font-semibold text-theme-blueGray-400",children:"Sign up"})]}),Z&&(0,n.jsx)("p",{className:"mb-4 text-sm text-red-500 text-center font-semibold",children:Z}),(0,n.jsxs)("form",{className:"mt-8 space-y-6",method:"POST",onSubmit:F,children:[(0,n.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),(0,n.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"full-name",className:"sr-only",children:"Full Name"}),(0,n.jsx)("input",{id:"fullname",name:"fullname",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none rounded-t relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-theme-primary-500 focus:border-theme-primary-500 focus:z-10 sm:text-sm",placeholder:"Full Name",onChange:function(e){var t=e.target;return b(t.value)},value:g})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Username"}),(0,n.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-theme-primary-500 focus:border-theme-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",onChange:function(e){var t=e.target;return v(t.value.toLowerCase())},value:a})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,n.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-theme-primary-500 focus:border-theme-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",onChange:function(e){var t=e.target;return N(t.value.toLowerCase())},value:w})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,n.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none rounded-b relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-theme-primary-500 focus:border-theme-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",onChange:function(e){var t=e.target;return S(t.value)},value:k})]})]}),(0,n.jsxs)("div",{className:"text-sm text-center flex justify-between flex-col items-center space-y-3",children:[(0,n.jsx)("button",{type:"button",name:"Generate avatar",onClick:function(){return O(e.generateRandomAvatar())},className:"bg-white text-theme-primary-600 hover:text-theme-primary-700 w-full rounded h-11 font-bold border",children:"Generate avatar"}),(0,n.jsx)("div",{children:""!==T?(0,n.jsx)(l.default,{alt:"avatar",width:250,height:250,src:T}):null})]}),!G&&""!==T&&(0,n.jsx)("div",{children:(0,n.jsxs)("button",{"aria-label":"Sign up",type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-base font-medium rounded-md text-white bg-theme-primary-500 hover:bg-theme-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-theme-primary-500",children:[(0,n.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,n.jsx)(m.khe,{className:"h-5 w-5 text-theme-coolGray-400 group-hover:text-theme-coolGray-900","aria-hidden":"true"})}),"Sign up"]})}),(0,n.jsxs)("div",{className:"text-base text-center text-theme-blueGray-400",children:["Already have an account? ",(0,n.jsx)("span",{className:"font-medium hover:text-theme-primary-500 w-max relative cursor-pointer group",children:(0,n.jsx)(p.default,{href:"/sign-in",children:(0,n.jsxs)("a",{children:["Sign In",(0,n.jsx)("div",{className:"-right-1 bottom-0 absolute w-14 h-2 bg-theme-primary-500/40 group-hover:bg-transparent"})]})})})]})]})]})]})})}},2465:function(e,t,r){"use strict";r.d(t,{_T:function(){return v},Wt:function(){return d},c2:function(){return p},oF:function(){return l},NW:function(){return h},kv:function(){return c},Ut:function(){return y},G8:function(){return x},pk:function(){return m},Oo:function(){return f}});var n=r(8742),a=r.n(n),s=r(505),o=r(759),i=r.n(o),u="/api/v1/",c=function(){var e=(0,s.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(u,"user?user_id=").concat(t));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,i()("".concat(u,"user"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,s.Z)(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(u,"page?page_user_id=").concat(t,"&today=").concat(r));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,i()("".concat(u,"todo"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.todo_id,n=t.todo_done,e.next=3,i()("".concat(u,"todo"),{method:"POST",body:JSON.stringify({task:"toggleState",todo_id:r,todo_done:!n}),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.abrupt("return",s.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,s.Z)(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.todo_id,n=t.todo_description,!r||!n){e.next=6;break}return e.next=4,i()("".concat(u,"todo"),{method:"POST",body:JSON.stringify({task:"updateDescription",todo_id:r,todo_description:n}),headers:{"Content-Type":"application/json"}});case 4:return s=e.sent,e.abrupt("return",s.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,i()("".concat(u,"todo?todo_id=").concat(t),{method:"DELETE"});case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.Z)(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.todo_id,n=t.todo_archived,e.next=3,i()("".concat(u,"todo"),{method:"POST",body:JSON.stringify({task:"toggleArchive",todo_id:r,todo_archived:n}),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.abrupt("return",s.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.story_id,n=t.todo_id,e.next=3,i()("".concat(u,"story"),{method:"POST",body:JSON.stringify({todo_id:n,story_id:r,task:"add"}),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.abrupt("return",s.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,s.Z)(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.story_id,n=t.todo_id,e.next=3,i()("".concat(u,"story"),{method:"POST",body:JSON.stringify({todo_id:n,story_id:r,task:"remove"}),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.abrupt("return",s.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},4250:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-up",function(){return r(6969)}])},3706:function(){}},function(e){e.O(0,[765,148,856,774,888,179],(function(){return t=4250,e(e.s=t);var t}));var t=e.O();_N_E=t}]);