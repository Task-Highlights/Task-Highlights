(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[946],{3485:function(e,t,n){"use strict";n.d(t,{A:function(){return j}});var r=n(4246),s=n(8742),a=n.n(s),o=n(505),i=n(7378),c=n(4861),u=n(3368),l=n(596),d=n(8579),f=n(9894),p=n(8486),h=n(930),x=function(){var e=(0,i.useContext)(p.Z);return(0,r.jsxs)("div",{className:"flex flex-1 flex-row py-3 items-center justify-evenly px-4 sm:space-x-40 md:space-x-60",children:[(0,r.jsx)("div",{children:(0,r.jsx)(f.default,{href:"/",children:(0,r.jsx)("a",{title:"Home","aria-label":"Home",className:"flex items-center",children:(0,r.jsx)(u.tvw,{className:"w-7 h-7"})})})}),null!==e&&void 0!==e&&e.user_avatar?(0,r.jsx)("div",{className:"flex -space-x-1 overflow-hidden",children:(0,r.jsx)("div",{className:"relative inline-block h-12 w-12 rounded-full ring-2 ring-theme-blueGray-900",children:(0,r.jsx)(f.default,{href:"/p/".concat(e.user_username),children:(0,r.jsx)("a",{children:(0,r.jsx)(d.default,{alt:"user-avatar",src:e.user_avatar,layout:"fill"})})})})}):(0,r.jsx)(l.yB,{color:"#0F172A",highlightColor:"#1E293B",children:(0,r.jsx)(l.ZP,{circle:!0,height:44,width:44})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{"aria-label":"Sign out",className:"flex items-center",title:"Sign out",onClick:function(){return h.m.signOut()},children:(0,r.jsx)(u.R0g,{className:"w-7 h-7"})})})]})},v=n(2465),m=n(6677),j=function(e){var t=e.children,n=(0,i.useContext)(c.Z).fireId,s=(0,i.useState)(null),u=s[0],l=s[1],d=(0,i.useState)(!0),f=d[0],h=d[1],j=(0,m.useRouter)();return(0,i.useEffect)((function(){h("/sign-up"!==j.pathname.toString()&&"/sign-in"!==j.pathname.toString())}),[j.pathname]),(0,i.useEffect)((function(){(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.kv)(n);case 2:t=e.sent,JSON.stringify(u)!==JSON.stringify(t)&&l(t);case 4:case"end":return e.stop()}}),e)})))()}),[n,u]),(0,r.jsx)(p.Z.Provider,{value:u,children:(0,r.jsxs)("div",{className:"bg-theme-blueGray-900 min-h-screen flex flex-col text-theme-blueGray-400 selection:bg-theme-blueGray-800 selection:text-theme-blueGray-400",children:[f&&(0,r.jsx)("header",{className:"flex justify-center",children:(0,r.jsx)(x,{})}),(0,r.jsx)("main",{className:"flex-1 ".concat(f&&"border-t-2"," border-theme-primary-500 ").concat(!f&&"flex justify-center items-center"),children:t})]})})}},8486:function(e,t,n){"use strict";var r=(0,n(7378).createContext)(null);t.Z=r},2954:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return c},default:function(){return u}});var r=n(4246),s=n(596),a=n(8038),o=n(8579),i=n(3485),c=!0;function u(e){var t=e.user;return(0,r.jsxs)(i.A,{children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"".concat(null===t||void 0===t?void 0:t.user_fullname," (").concat(null===t||void 0===t?void 0:t.user_username,")")}),(0,r.jsx)("meta",{property:"og:image",content:null===t||void 0===t?void 0:t.user_avatar})]}),(0,r.jsx)(s.yB,{color:"#0F172A",highlightColor:"#1E293B",children:(0,r.jsx)("div",{className:"flex-1 flex justify-center mt-5",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"relative w-28 h-28",children:t?(0,r.jsx)(o.default,{src:t.user_avatar,alt:"user-avatar",layout:"fill"}):(0,r.jsx)(s.ZP,{circle:!0,height:44,width:44})}),(0,r.jsx)("div",{children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-4xl",children:t.user_username}),(0,r.jsxs)("section",{className:"flex justify-center space-x-3",children:[(0,r.jsxs)("p",{children:[t.user_followers.length," Followers"]}),(0,r.jsxs)("p",{children:[t.user_following.length," Following"]})]}),(0,r.jsx)("p",{children:t.user_fullname}),(0,r.jsx)("p",{children:t.user_bio})]}):(0,r.jsx)(s.ZP,{count:10,height:20})})]})})})]})}},2465:function(e,t,n){"use strict";n.d(t,{_T:function(){return m},Wt:function(){return d},c2:function(){return f},oF:function(){return l},NW:function(){return x},kv:function(){return u},Ut:function(){return j},G8:function(){return v},pk:function(){return p},Oo:function(){return h}});var r=n(8742),s=n.n(r),a=n(505),o=n(759),i=n.n(o),c="/api/v1/",u=function(){var e=(0,a.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(c,"user?user_id=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,i()("".concat(c,"user"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(c,"page?page_user_id=").concat(t,"&today=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,i()("".concat(c,"todo"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.todo_id,r=t.todo_done,e.next=3,i()("".concat(c,"todo"),{method:"POST",body:JSON.stringify({task:"toggleState",todo_id:n,todo_done:!r}),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.todo_id,r=t.todo_description,!n||!r){e.next=6;break}return e.next=4,i()("".concat(c,"todo"),{method:"POST",body:JSON.stringify({task:"updateDescription",todo_id:n,todo_description:r}),headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.abrupt("return",a.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,i()("".concat(c,"todo?todo_id=").concat(t),{method:"DELETE"});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.todo_id,r=t.todo_archived,e.next=3,i()("".concat(c,"todo"),{method:"POST",body:JSON.stringify({task:"toggleArchive",todo_id:n,todo_archived:r}),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.story_id,r=t.todo_id,e.next=3,i()("".concat(c,"story"),{method:"POST",body:JSON.stringify({todo_id:r,story_id:n,task:"add"}),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,a.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.story_id,r=t.todo_id,e.next=3,i()("".concat(c,"story"),{method:"POST",body:JSON.stringify({todo_id:r,story_id:n,task:"remove"}),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},3926:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/p/[user_username]",function(){return n(2954)}])}},function(e){e.O(0,[765,774,888,179],(function(){return t=3926,e(e.s=t);var t}));var t=e.O();_N_E=t}]);